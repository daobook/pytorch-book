
<!DOCTYPE html>

<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tips for Best Training Results</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "xinetzone/pytorch-book");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="canonical" href="https://xinetzone.github.io/pytorch-book/yolo/tutorials/01_training-tips-best-results.html" />
    <link rel="shortcut icon" href="../../_static/page-logo.jfif"/>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Weights &amp; Biases Logging 🆕" href="02_weights-and-biasis-logging.html" />
    <link rel="prev" title="自定义数据 📌" href="00_train-custom-datasets.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="zh">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.jpg" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="搜索这本书..." aria-label="搜索这本书..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  基础
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../start/index.html">
   PyTorch 基础
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/00_quickly-study.html">
     快速入门
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/01_tensor.html">
     张量
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/02_data.html">
     Dataset 和 Dataloader
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/03_transforms.html">
     变换
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/04_build-model.html">
     构建神经网络
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../start/05_autograd.html">
     自动微分
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  计算机视觉
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../object-detection/index.html">
   目标检测
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../object-detection/fine-tuning.html">
     微调
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../index.html">
   YOLO 系列
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../intro.html">
     简介
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../quick-start.html">
     快速入门
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../environments/index.html">
     环境
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../environments/AWS-Quickstart.html">
       Amazon Web Services
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../environments/Docker-Quickstart.html">
       Docker
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../environments/GCP-Quickstart.html">
       Google Cloud Platform
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="index.html">
     教程
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="00_train-custom-datasets.html">
       自定义数据 📌
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Tips for Best Training Results
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="02_weights-and-biasis-logging.html">
       Weights &amp; Biases Logging 🆕
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="03_supervisely-ecosystem.html">
       Supervisely Ecosystem 🆕
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="04_multi-gpu-training.html">
       Multi-GPU Training
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_pytorch-hub.html">
       PyTorch Hub
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="06_torchscript-onnx-coreml-export.html">
       TorchScript, ONNX, CoreML Export
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="07_test-time-augmentation.html">
       Test-Time Augmentation (TTA)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="08_model-ensembling.html">
       Model Ensembling
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="09_pruning-sparsity.html">
       Model Pruning/Sparsity
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="10_hyperparameter-evolution.html">
       Hyperparameter Evolution
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="11_transfer-learning-froze-layers.html">
       Transfer Learning with Frozen Layers
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../face-mask/index.html">
     口罩识别
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../face-mask/00_loader.html">
       准备工作
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../face-mask/01_train.html">
       模型训练
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../face-mask/02_test.html">
       测试
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  帮助
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../other/index.html">
   参考
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../other/bugs.html">
     PyTorch 常见 Bug
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../other/object-detection.html">
     目标检测参考
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../other/other.html">
     其他
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../glossary/index.html">
   术语表
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../glossary/numpy.html">
     NumPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../glossary/pytorch.html">
     PyTorch 词汇表
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <div class="w3-padding w3-card-4 w3-pale-green">
  <a href="https://github.com/xinetzone" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub"
      data-position="top" data-delay="50">
      <i class="fab fa-github"></i>
  </a>
  <a href="mailto:q735613050@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top"
      data-delay="50">
      <i class="fas fa-envelope-open"></i>
  </a>
  <a href="tencent://AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=735613050" class="tooltipped"
      target="_blank" data-tooltip="QQ联系我: 735613050" data-position="top" data-delay="50">
      <i class="fab fa-qq"></i>
  </a>
  <a href="https://www.zhihu.com/people/xinetzone" class="tooltipped" target="_blank"
      data-tooltip="关注我的知乎: xinetzone" data-position="top" data-delay="50">
      <i class="fab fa-zhihu1">知</i>
  </a>
  <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/xinet" class="tooltipped"
      data-tooltip="领英联系我: xinet" data-position="top" data-delay="50">
      <i class="fab fa-linkedin"></i>
  </a>
  <div><a href="https://github.com/xinetzone/pytorch-book">PyTorch Book</a> 版权所有</div>
</div> 

</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="切换导航" aria-controls="site-navigation"
                title="切换导航" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="下载此页面"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/yolo/tutorials/01_training-tips-best-results.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="下载源文件" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="列印成PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/xinetzone/pytorch-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="源库"><i
                    class="fab fa-github"></i>资料库</button></a>
        <a class="issues-button"
            href="https://github.com/xinetzone/pytorch-book/issues/new?title=Issue%20on%20page%20%2Fyolo/tutorials/01_training-tips-best-results.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="打开一个问题"><i class="fas fa-lightbulb"></i>公开的问题</button></a>
        <a class="edit-button" href="https://github.com/xinetzone/pytorch-book/edit/main/docs/yolo/tutorials/01_training-tips-best-results.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="编辑这个页面"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="全屏模式"
        title="全屏模式"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> 内容
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset">
   Dataset
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#model-selection">
   Model Selection
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#training-settings">
   Training Settings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#further-reading">
   Further Reading
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Tips for Best Training Results</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> 内容 </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset">
   Dataset
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#model-selection">
   Model Selection
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#training-settings">
   Training Settings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#further-reading">
   Further Reading
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="tips-for-best-training-results">
<h1>Tips for Best Training Results<a class="headerlink" href="#tips-for-best-training-results" title="永久链接至标题">¶</a></h1>
<p>👋 Hello! 📚 This guide explains how to produce the best mAP and training results with YOLOv5 🚀.</p>
<p>Most of the time good results can be obtained with no changes to the models or training settings, <strong>provided your dataset is sufficiently large and well labelled</strong>. If at first you don’t get good results, there are steps you might be able to take to improve, but we always recommend users <strong>first train with all default settings</strong> before considering any changes. This helps establish a performance baseline and spot areas for improvement.</p>
<p>If you have questions about your training results <strong>we recommend you provide the maximum amount of information possible</strong> if you expect a helpful response, including results plots (train losses, val losses, P, R, mAP), PR curve, confusion matrix, training mosaics, test results and dataset statistics images such as labels.png. All of these are located in your <code class="docutils literal notranslate"><span class="pre">project/name</span></code> directory, typically <code class="docutils literal notranslate"><span class="pre">yolov5/runs/train/exp</span></code>.</p>
<p>We’ve put together a full guide for users looking to get the best results on their YOLOv5 trainings below.</p>
<div class="section" id="dataset">
<h2>Dataset<a class="headerlink" href="#dataset" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p><strong>Images per class.</strong> ≥1.5k images per class</p></li>
<li><p><strong>Instances per class.</strong> ≥10k instances (labeled objects) per class total</p></li>
<li><p><strong>Image variety.</strong> Must be representative of deployed environment. For real-world use cases we recommend images from different times of day, different seasons, different weather, different lighting, different angles, different sources (scraped online, collected locally, different cameras) etc.</p></li>
<li><p><strong>Label consistency.</strong> All instances of all classes in all images must be labelled. Partial labelling will not work.</p></li>
<li><p><strong>Label accuracy.</strong> Labels must closely enclose each object. No space should exist between an object and it’s bounding box. No objects should be missing a label.</p></li>
<li><p><strong>Background images.</strong> Background images are images with no objects that are added to a dataset to reduce False Positives (FP). We recommend about 0-10% background images to help reduce FPs (COCO has 1000 background images for reference, 1% of the total).</p></li>
</ul>
<p><a href="https://arxiv.org/abs/1405.0312"><a class="reference internal" href="https://user-images.githubusercontent.com/26833433/109398377-82b0ac00-78f1-11eb-9c76-cc7820669d0d.png"><img alt="COCO Analysis" src="https://user-images.githubusercontent.com/26833433/109398377-82b0ac00-78f1-11eb-9c76-cc7820669d0d.png" style="width: 800px;" /></a></a></p>
</div>
<div class="section" id="model-selection">
<h2>Model Selection<a class="headerlink" href="#model-selection" title="永久链接至标题">¶</a></h2>
<p>Larger models like YOLOv5x and <a class="reference external" href="https://github.com/ultralytics/yolov5/releases/tag/v5.0">YOLOv5x6</a> will produce better results in nearly all cases, but have more parameters, require more CUDA memory to train, and are slower to run. For <strong>mobile</strong> deployments we recommend YOLOv5s/m, for <strong>cloud</strong> deployments we recommend YOLOv5l/x. See our README <a class="reference external" href="https://github.com/ultralytics/yolov5#pretrained-checkpoints">table</a> for a full comparison of all models.</p>
<p align="center"><img width="700" alt="YOLOv5 Models" src="https://user-images.githubusercontent.com/26833433/103595982-ab986000-4eb1-11eb-8c57-4726261b0a88.png"></p>
<ul class="simple">
<li><p><strong>Start from Pretrained weights.</strong> Recommended for small to medium sized datasets (i.e. VOC, VisDrone, GlobalWheat). Pass the name of the model to the <code class="docutils literal notranslate"><span class="pre">--weights</span></code> argument. Models download automatically from the <a class="reference external" href="https://github.com/ultralytics/yolov5/releases">latest YOLOv5 release</a>.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python train.py --data custom.yaml --weights yolov5s.pt
                                             yolov5m.pt
                                             yolov5l.pt
                                             yolov5x.pt
                                             custom_pretrained.pt
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Start from Scratch.</strong> Recommended for large datasets (i.e. COCO, Objects365, OIv6). Pass the model architecture yaml you are interested in, along with an empty <code class="docutils literal notranslate"><span class="pre">--weights</span> <span class="pre">''</span></code> argument:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python train.py --data custom.yaml --weights <span class="s1">&#39;&#39;</span> --cfg yolov5s.yaml
                                                      yolov5m.yaml
                                                      yolov5l.yaml
                                                      yolov5x.yaml
</pre></div>
</div>
</div>
<div class="section" id="training-settings">
<h2>Training Settings<a class="headerlink" href="#training-settings" title="永久链接至标题">¶</a></h2>
<p>Before modifying anything, <strong>first train with default settings to establish a performance baseline</strong>. A full list of <a class="reference external" href="http://train.py">train.py</a> settings can be found in the <a class="reference external" href="https://github.com/ultralytics/yolov5/blob/master/train.py">train.py</a> argparser.</p>
<ul class="simple">
<li><p><strong>Epochs.</strong> Start with 300 epochs. If this overfits early then you can reduce epochs. If overfitting does not occur after 300 epochs, train longer, i.e. 600, 1200 etc epochs.</p></li>
<li><p><strong>Image size.</strong> COCO trains at native resolution of <code class="docutils literal notranslate"><span class="pre">--img</span> <span class="pre">640</span></code>, though due to the high amount of small objects in the dataset it can benefit from training at higher resolutions such as <code class="docutils literal notranslate"><span class="pre">--img</span> <span class="pre">1280</span></code>. If there are many small objects then custom datasets will benefit from training at native or higher resolution. Best inference results are obtained at the same <code class="docutils literal notranslate"><span class="pre">--img</span></code> as the training was run at, i.e. if you train at <code class="docutils literal notranslate"><span class="pre">--img</span> <span class="pre">1280</span></code> you should also test and detect at <code class="docutils literal notranslate"><span class="pre">--img</span> <span class="pre">1280</span></code>.</p></li>
<li><p><strong>Batch size.</strong> Use the largest <code class="docutils literal notranslate"><span class="pre">--batch-size</span></code> that your hardware allows for. Small batch sizes produce poor batchnorm statistics and should be avoided.</p></li>
<li><p><strong>Hyperparameters.</strong> Default hyperparameters are in <a class="reference external" href="https://github.com/ultralytics/yolov5/blob/master/data/hyp.scratch.yaml">hyp.scratch.yaml</a>. We recommend you train with default hyperparameters first before thinking of modifying any. In general, increasing augmentation hyperparameters will reduce and delay overfitting, allowing for longer trainings and higher final mAP. Reduction in loss component gain hyperparameters like <code class="docutils literal notranslate"><span class="pre">hyp['obj']</span></code> will help reduce overfitting in those specific loss components. For an automated method of optimizing these hyperparameters, see our <a class="reference external" href="https://github.com/ultralytics/yolov5/issues/607">Hyperparameter Evolution Tutorial</a>.</p></li>
</ul>
</div>
<div class="section" id="further-reading">
<h2>Further Reading<a class="headerlink" href="#further-reading" title="永久链接至标题">¶</a></h2>
<p>If you’d like to know more a good place to start is Karpathy’s ‘Recipe for Training Neural Networks’, which has great ideas for training that apply broadly across all ML domains:
<a class="reference external" href="http://karpathy.github.io/2019/04/25/recipe/">http://karpathy.github.io/2019/04/25/recipe/</a></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "xinetzone/pytorch-book",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./yolo/tutorials"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="00_train-custom-datasets.html" title="上一页 页">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">上一页</p>
            <p class="prev-next-title">自定义数据 📌</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="02_weights-and-biasis-logging.html" title="下一页 页">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">下一页</p>
        <p class="prev-next-title">Weights &amp; Biases Logging 🆕</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      通过 xinetzone<br/>
    
        &copy; 版权 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>